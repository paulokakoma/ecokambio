[build]
builder = "nixpacks"
buildCommand = "npm run railway:build"

[deploy]
startCommand = "npm start"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

[deploy.healthcheck]
path = "/health"
timeout = 100
interval = 30

[deploy.healthcheckTimeout]
timeout = 300

[[deploy.env]]
name = "NODE_ENV"
value = "production"

[[deploy.env]]
name = "PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD"
value = "0"
