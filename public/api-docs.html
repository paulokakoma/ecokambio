<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocumentaÃ§Ã£o da API - EcoKambio</title>
    <meta name="description" content="DocumentaÃ§Ã£o completa da API REST do EcoKambio para desenvolvedores.">

    <link href="/css/output.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .code-font {
            font-family: 'JetBrains Mono', monospace;
        }

        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Syntax highlighting */
        .language-bash {
            color: #22c55e;
        }

        .language-javascript {
            color: #f59e0b;
        }

        .language-python {
            color: #3b82f6;
        }

        .language-json {
            color: #8b5cf6;
        }

        /* Sidebar navigation */
        .sidebar {
            position: sticky;
            top: 80px;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
        }

        .sidebar a {
            transition: all 0.2s;
        }

        .sidebar a:hover {
            background: #f0fdf4;
            transform: translateX(4px);
        }

        .sidebar a.active {
            background: #d1fae5;
            border-left: 3px solid #10b981;
            font-weight: 600;
        }

        /* Code blocks */
        pre {
            background: #1e293b !important;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
        }

        pre code {
            color: #e2e8f0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        /* Endpoint cards */
        .endpoint-card {
            border-left: 4px solid #10b981;
            transition: all 0.2s;
        }

        .endpoint-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .http-method {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-weight: 600;
            font-size: 0.75rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .http-get {
            background: #dbeafe;
            color: #1e40af;
        }

        .http-post {
            background: #dcfce7;
            color: #166534;
        }

        .http-put {
            background: #fef3c7;
            color: #92400e;
        }

        .http-delete {
            background: #fee2e2;
            color: #991b1b;
        }

        /* Copy button */
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.375rem 0.75rem;
            background: #10b981;
            color: white;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: #059669;
        }

        /* Table styling */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #f0fdf4;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #10b981;
        }

        td {
            padding: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
        }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Section anchors */
        .section-anchor {
            scroll-margin-top: 100px;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 min-h-screen">
    <header data-include="/components/header.html" class="bg-white shadow-sm sticky top-0 z-50"></header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid lg:grid-cols-4 gap-8">
            <!-- Sidebar Navigation -->
            <aside class="lg:col-span-1">
                <nav class="sidebar glass p-6 rounded-2xl shadow-lg">
                    <h3 class="text-sm font-bold text-gray-500 uppercase mb-4">NavegaÃ§Ã£o</h3>
                    <ul class="space-y-2">
                        <li><a href="#introducao"
                                class="block px-3 py-2 rounded-lg text-sm text-gray-700">IntroduÃ§Ã£o</a></li>
                        <li><a href="#autenticacao"
                                class="block px-3 py-2 rounded-lg text-sm text-gray-700">AutenticaÃ§Ã£o</a></li>
                        <li><a href="#rate-limiting" class="block px-3 py-2 rounded-lg text-sm text-gray-700">Rate
                                Limiting</a></li>
                        <li><a href="#endpoints" class="block px-3 py-2 rounded-lg text-sm text-gray-700">Endpoints</a>
                        </li>
                        <li class="ml-4"><a href="#status"
                                class="block px-3 py-2 rounded-lg text-xs text-gray-600">Status</a></li>
                        <li class="ml-4"><a href="#taxas"
                                class="block px-3 py-2 rounded-lg text-xs text-gray-600">Taxas</a></li>
                        <li class="ml-4"><a href="#conversao"
                                class="block px-3 py-2 rounded-lg text-xs text-gray-600">ConversÃ£o</a></li>
                        <li><a href="#exemplos" class="block px-3 py-2 rounded-lg text-sm text-gray-700">Exemplos</a>
                        </li>
                        <li><a href="#erros" class="block px-3 py-2 rounded-lg text-sm text-gray-700">CÃ³digos de
                                Erro</a></li>
                    </ul>

                    <div class="mt-8 p-4 bg-emerald-50 rounded-lg border-2 border-emerald-200">
                        <p class="text-xs font-semibold text-emerald-900 mb-2">Precisa de uma API key?</p>
                        <a href="/developers"
                            class="block text-center bg-emerald-600 text-white px-3 py-2 rounded-lg text-xs font-semibold hover:bg-emerald-700 transition">
                            Gerar GrÃ¡tis â†’
                        </a>
                    </div>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="lg:col-span-3">
                <div class="glass p-8 rounded-2xl shadow-xl">
                    <!-- Introduction -->
                    <section id="introducao" class="section-anchor mb-12">
                        <h1 class="text-4xl font-extrabold text-gray-900 mb-4">DocumentaÃ§Ã£o da API</h1>
                        <p class="text-lg text-gray-600 mb-6">
                            API REST completa para consulta de taxas de cÃ¢mbio em Angola. Dados atualizados em tempo
                            real para USD, EUR e USDT.
                        </p>

                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-6">
                            <p class="text-sm font-semibold text-blue-900">Base URL</p>
                            <code class="text-blue-700 code-font text-sm">https://ecokambio.com/api/v1</code>
                        </div>
                    </section>

                    <!-- Authentication -->
                    <section id="autenticacao" class="section-anchor mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-4">AutenticaÃ§Ã£o (Opcional)</h2>
                        <p class="text-gray-700 mb-4">
                            A API funciona **sem autenticaÃ§Ã£o**, mas vocÃª pode gerar uma API key grÃ¡tis para obter
                            limites 10x maiores.
                        </p>

                        <div class="grid md:grid-cols-2 gap-4 mb-6">
                            <div class="p-4 bg-gray-50 rounded-lg border-2 border-gray-200">
                                <p class="text-sm font-semibold text-gray-700 mb-1">Sem API Key</p>
                                <p class="text-2xl font-bold text-gray-900">100</p>
                                <p class="text-xs text-gray-500">requests / 15 minutos</p>
                            </div>
                            <div class="p-4 bg-emerald-50 rounded-lg border-2 border-emerald-300">
                                <p class="text-sm font-semibold text-emerald-700 mb-1">Com API Key ðŸ”‘</p>
                                <p class="text-2xl font-bold text-emerald-900">1000</p>
                                <p class="text-xs text-emerald-600">requests / 15 minutos</p>
                            </div>
                        </div>

                        <p class="text-sm text-gray-600 mb-4">Para usar com API key, adicione o header:</p>
                        <div class="relative">
                            <pre><code>X-API-Key: eck_live_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</code></pre>
                            <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                        </div>

                        <a href="/developers"
                            class="inline-flex items-center mt-4 text-emerald-600 font-semibold hover:text-emerald-700">
                            Gerar minha API key grÃ¡tis â†’
                        </a>
                    </section>

                    <!-- Rate Limiting -->
                    <section id="rate-limiting" class="section-anchor mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-4">Rate Limiting</h2>

                        <table class="mb-6">
                            <thead>
                                <tr>
                                    <th>Tipo de Endpoint</th>
                                    <th>Sem Key</th>
                                    <th>Com Key</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GET (taxas)</td>
                                    <td>100 / 15min</td>
                                    <td class="font-semibold text-emerald-600">1000 / 15min</td>
                                </tr>
                                <tr>
                                    <td>POST (conversÃ£o)</td>
                                    <td>60 / 15min</td>
                                    <td class="font-semibold text-emerald-600">600 / 15min</td>
                                </tr>
                            </tbody>
                        </table>

                        <p class="text-sm text-gray-600">
                            Headers de rate limit sÃ£o incluÃ­dos em cada resposta: <code
                                class="code-font text-xs bg-gray-100 px-2 py-1 rounded">RateLimit-Limit</code>,
                            <code class="code-font text-xs bg-gray-100 px-2 py-1 rounded">RateLimit-Remaining</code>,
                            <code class="code-font text-xs bg-gray-100 px-2 py-1 rounded">RateLimit-Reset</code>
                        </p>
                    </section>

                    <!-- Endpoints -->
                    <section id="endpoints" class="section-anchor mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-6">Endpoints</h2>

                        <!-- Status Endpoint -->
                        <div id="status" class="endpoint-card glass p-6 rounded-xl mb-6 section-anchor">
                            <div class="flex items-center gap-3 mb-4">
                                <span class="http-method http-get">GET</span>
                                <code class="code-font text-lg font-semibold">/status</code>
                            </div>
                            <p class="text-gray-700 mb-4">Verifica o status e saÃºde da API.</p>

                            <div class="relative">
                                <p class="text-sm font-semibold text-gray-700 mb-2">Exemplo de Resposta:</p>
                                <pre><code class="language-json">{
  "success": true,
  "data": {
    "status": "healthy",
    "service": "EcoKambio API",
    "version": "1.0.0",
    "uptime": 12345.67,
    "environment": "production"
  }
}</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>

                        <!-- All Rates Endpoint -->
                        <div id="taxas" class="endpoint-card glass p-6 rounded-xl mb-6 section-anchor">
                            <div class="flex items-center gap-3 mb-4">
                                <span class="http-method http-get">GET</span>
                                <code class="code-font text-lg font-semibold">/rates</code>
                            </div>
                            <p class="text-gray-700 mb-4">Retorna todas as taxas de cÃ¢mbio (mercado formal e informal).
                            </p>

                            <div class="relative mb-4">
                                <p class="text-sm font-semibold text-gray-700 mb-2">Request:</p>
                                <pre><code class="language-bash">curl https://ecokambio.com/api/v1/rates</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>

                            <div class="relative">
                                <p class="text-sm font-semibold text-gray-700 mb-2">Response:</p>
                                <pre><code class="language-json">{
  "success": true,
  "data": {
    "formal": [
      {
        "provider_name": "BAI",
        "currency_pair": "USD/AOA",
        "buy_rate": 880.50,
        "sell_rate": 885.00
      }
    ],
    "informal": {
      "USD": 890.00,
      "EUR": 975.00,
      "USDT": 888.00
    }
  }
}</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>

                        <!-- Informal Rates -->
                        <div class="endpoint-card glass p-6 rounded-xl mb-6">
                            <div class="flex items-center gap-3 mb-4">
                                <span class="http-method http-get">GET</span>
                                <code class="code-font text-lg font-semibold">/rates/informal</code>
                            </div>
                            <p class="text-gray-700 mb-4">Retorna apenas as taxas do mercado informal (kinguilas).</p>

                            <div class="relative">
                                <pre><code class="language-bash">curl https://ecokambio.com/api/v1/rates/informal</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>

                        <!-- Currency Conversion -->
                        <div id="conversao" class="endpoint-card glass p-6 rounded-xl mb-6 section-anchor">
                            <div class="flex items-center gap-3 mb-4">
                                <span class="http-method http-post">POST</span>
                                <code class="code-font text-lg font-semibold">/conversion</code>
                            </div>
                            <p class="text-gray-700 mb-4">Converte um valor entre moedas.</p>

                            <div class="relative mb-4">
                                <p class="text-sm font-semibold text-gray-700 mb-2">Request Body:</p>
                                <pre><code class="language-json">{
  "from": "USD",
  "to": "AOA",
  "amount": 100,
  "market": "informal"
}</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>

                            <div class="relative">
                                <p class="text-sm font-semibold text-gray-700 mb-2">Response:</p>
                                <pre><code class="language-json">{
  "success": true,
  "data": {
    "from": "USD",
    "to": "AOA",
    "amount": 100,
    "converted": 89000.00,
    "rate": 890.00,
    "market": "informal"
  }
}</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>
                    </section>

                    <!-- Examples -->
                    <section id="exemplos" class="section-anchor mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-6">Exemplos de Uso</h2>

                        <!-- JavaScript Example -->
                        <div class="glass p-6 rounded-xl mb-6">
                            <h3 class="text-xl font-bold text-gray-900 mb-4">JavaScript / Fetch</h3>
                            <div class="relative">
                                <pre><code class="language-javascript">// Buscar taxas informais
fetch('https://ecokambio.com/api/v1/rates/informal', {
  headers: {
    'X-API-Key': 'sua_api_key_aqui' // Opcional
  }
})
.then(res => res.json())
.then(data => {
  console.log('USD:', data.data.USD);
  console.log('EUR:', data.data.EUR);
});</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>

                        <!-- Python Example -->
                        <div class="glass p-6 rounded-xl mb-6">
                            <h3 class="text-xl font-bold text-gray-900 mb-4">Python / Requests</h3>
                            <div class="relative">
                                <pre><code class="language-python">import requests

headers = {
    'X-API-Key': 'sua_api_key_aqui'  # Opcional
}

# Buscar taxas
response = requests.get(
    'https://ecokambio.com/api/v1/rates/informal',
    headers=headers
)

data = response.json()
print(f"USD: {data['data']['USD']}")
print(f"EUR: {data['data']['EUR']}")</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>

                        <!-- cURL Example -->
                        <div class="glass p-6 rounded-xl">
                            <h3 class="text-xl font-bold text-gray-900 mb-4">cURL</h3>
                            <div class="relative">
                                <pre><code class="language-bash"># ConversÃ£o de moeda
curl -X POST https://ecokambio.com/api/v1/conversion \
  -H "Content-Type: application/json" \
  -H "X-API-Key: sua_api_key_aqui" \
  -d '{
    "from": "USD",
    "to": "AOA",
    "amount": 50,
    "market": "informal"
}'</code></pre>
                                <button class="copy-btn" onclick="copyCode(this)">ðŸ“‹ Copiar</button>
                            </div>
                        </div>
                    </section>

                    <!-- Error Codes -->
                    <section id="erros" class="section-anchor mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-6">CÃ³digos de Erro</h2>

                        <table>
                            <thead>
                                <tr>
                                    <th>CÃ³digo</th>
                                    <th>DescriÃ§Ã£o</th>
                                    <th>HTTP</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="code-font text-sm">MISSING_PARAMETERS</td>
                                    <td>ParÃ¢metros obrigatÃ³rios faltando</td>
                                    <td>400</td>
                                </tr>
                                <tr>
                                    <td class="code-font text-sm">INVALID_CURRENCY</td>
                                    <td>Moeda nÃ£o suportada</td>
                                    <td>400</td>
                                </tr>
                                <tr>
                                    <td class="code-font text-sm">RATE_NOT_FOUND</td>
                                    <td>Taxa de cÃ¢mbio nÃ£o encontrada</td>
                                    <td>404</td>
                                </tr>
                                <tr>
                                    <td class="code-font text-sm">RATE_LIMIT_EXCEEDED</td>
                                    <td>Limite de requisiÃ§Ãµes excedido</td>
                                    <td>429</td>
                                </tr>
                                <tr>
                                    <td class="code-font text-sm">CONVERSION_ERROR</td>
                                    <td>Erro ao processar conversÃ£o</td>
                                    <td>500</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <!-- Footer CTA -->
                    <div class="bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-8 text-center text-white">
                        <h3 class="text-2xl font-bold mb-2">Pronto para ComeÃ§ar?</h3>
                        <p class="mb-6 opacity-90">Gere sua API key grÃ¡tis e comece a integrar em minutos</p>
                        <a href="/developers"
                            class="inline-block bg-white text-emerald-600 font-bold px-8 py-3 rounded-xl hover:bg-gray-100 transition shadow-lg">
                            Gerar API Key GrÃ¡tis â†’
                        </a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <footer data-include="/components/_footer.html" class="bg-slate-800 text-slate-400 mt-16 py-8"></footer>

    <script src="/js/components.js"></script>
    <script>
        // Copy code functionality
        function copyCode(button) {
            const pre = button.previousElementSibling;
            const code = pre.querySelector('code').textContent;

            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'âœ… Copiado!';
                setTimeout(() => {
                    button.textContent = 'ðŸ“‹ Copiar';
                }, 2000);
            });
        }

        // Active navigation highlighting
        const sections = document.querySelectorAll('.section-anchor');
        const navLinks = document.querySelectorAll('.sidebar a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= (sectionTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>